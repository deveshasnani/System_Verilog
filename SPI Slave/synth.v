/* Generated by Yosys 0.9 (git sha1 UNKNOWN, clang 3.4.2 -fPIC -Os) */

(* src = "design.sv:2" *)
module spi_slave(SCLK, MOSI, SS, din, mode, MISO);
  (* src = "design.sv:6" *)
  output MISO;
  (* src = "design.sv:3" *)
  input MOSI;
  (* src = "design.sv:3" *)
  input SCLK;
  (* src = "design.sv:3" *)
  input SS;
  (* src = "design.sv:5" *)
  wire _00_;
  (* src = "design.sv:6" *)
  wire _01_;
  (* src = "design.sv:7" *)
  wire _02_;
  (* src = "design.sv:8" *)
  wire _03_;
  (* src = "design.sv:9" *)
  wire _04_;
  (* src = "design.sv:10" *)
  wire _05_;
  (* src = "design.sv:11" *)
  wire _06_;
  (* src = "design.sv:12" *)
  wire _07_;
  (* src = "design.sv:13" *)
  wire _08_;
  (* src = "design.sv:14" *)
  wire _09_;
  (* src = "design.sv:15" *)
  wire _10_;
  (* src = "design.sv:16" *)
  wire _11_;
  (* src = "design.sv:17" *)
  wire _12_;
  (* src = "design.sv:18" *)
  wire _13_;
  (* src = "design.sv:19" *)
  wire _14_;
  (* src = "design.sv:20" *)
  wire _15_;
  (* src = "design.sv:21" *)
  wire _16_;
  (* src = "design.sv:22" *)
  wire _17_;
  (* src = "design.sv:4" *)
  input [7:0] din;
  (* src = "design.sv:8" *)
  reg [7:0] memory;
  (* src = "design.sv:9" *)
  reg misoreg;
  (* src = "design.sv:5" *)
  input [1:0] mode;
  assign _03_ = _01_ & (* src = "design.sv:18" *) mode[0];
  assign _04_ = _01_ & (* src = "design.sv:18" *) _03_;
  assign _12_ = _01_ & (* src = "design.sv:18" *) _04_;
  assign _06_ = _01_ & (* src = "design.sv:18" *) _05_;
  assign _13_ = _01_ & (* src = "design.sv:18" *) _06_;
  assign _08_ = SCLK & (* src = "design.sv:18" *) _07_;
  assign _14_ = SCLK & (* src = "design.sv:18" *) _08_;
  assign _15_ = _01_ & (* src = "design.sv:18" *) _07_;
  assign _16_ = _01_ & (* src = "design.sv:18" *) _10_;
  assign _17_ = SCLK & (* src = "design.sv:18" *) mode[0];
  always @*
    if (_00_)
      misoreg = memory[0];
  assign _00_ = ~ _09_;
  always @*
    if (_02_)
      memory = { MOSI, memory[7:1] };
  assign _02_ = ~ _11_;
  assign _01_ = ~ (* src = "design.sv:18" *) SCLK;
  assign _07_ = ~ (* src = "design.sv:26" *) mode[0];
  always @(negedge SS)
      misoreg <= din[0];
  always @(negedge SS)
      memory <= din;
  assign _05_ = | (* src = "design.sv:18" *) { _12_, SCLK };
  assign _09_ = | (* src = "design.sv:18" *) { _13_, _14_ };
  assign _10_ = | (* src = "design.sv:18" *) { _15_, SCLK };
  assign _11_ = | (* src = "design.sv:18" *) { _16_, _17_ };
  assign MISO = SS ? (* src = "design.sv:10" *) 1'hz : misoreg;
endmodule
